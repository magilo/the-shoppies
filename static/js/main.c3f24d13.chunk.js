(this["webpackJsonpthe-shoppies"]=this["webpackJsonpthe-shoppies"]||[]).push([[0],{28:function(e,t,n){},29:function(e,t,n){},48:function(e,t){e.exports={APIToken:"47203f8b"}},49:function(e,t,n){"use strict";n.r(t);var s=n(0),r=n(1),i=n.n(r),a=n(20),c=n.n(a),o=(n(28),n(29),n(11)),l=n(8),h=n.n(l),u=n(9),d=n(4),m=n(5),b=n(3),p=n(7),j=n(6),v=function(e){Object(p.a)(n,e);var t=Object(j.a)(n);function n(e){var s;return Object(d.a)(this,n),(s=t.call(this,e)).handleSearchSubmitCB=function(e){(function(){var t=Object(u.a)(h.a.mark((function t(){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B(e);case 2:"False"===(n=t.sent).Response?s.setState({results:"",searchError:n.Error}):s.setState({results:n.Search,searchError:""});case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()(),s.setState({title:e})},s.handleResultSubmitCB=function(e){s.setState({nominees:s.state.nominees},(function(){var t=this,n=this.state.nominees.length;0===n||n>0&&n<5?this.setState({nominees:[].concat(Object(o.a)(this.state.nominees),[e])},(function(){localStorage.setItem("nominees",JSON.stringify(t.state.nominees))})):alert("you have already selected five(5) nominees")}))},s.handleDeleteNomineeCB=function(e){var t=s.state.nominees.filter((function(t){return t.imdbID!==e}));s.setState({nominees:t}),localStorage.setItem("nominees",JSON.stringify(t))},s.state={title:"",results:"",nominees:[],searchError:""},s.handleSearchSubmitCB=s.handleSearchSubmitCB.bind(Object(b.a)(s)),s.handleResultSubmitCB=s.handleResultSubmitCB.bind(Object(b.a)(s)),s.handleDeleteNomineeCB=s.handleDeleteNomineeCB.bind(Object(b.a)(s)),s}return Object(m.a)(n,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("nominees"));null===e?this.setState({nominees:[]}):this.setState({nominees:e})}},{key:"render",value:function(){var e=this.state,t=e.title,n=e.results,r=e.nominees,i=e.searchError,a=5===r.length;return Object(s.jsxs)("div",{className:"App-section",children:[Object(s.jsxs)("div",{className:"nominees",children:[Object(s.jsx)(S,{currNominees:r,deleteNomineeCB:this.handleDeleteNomineeCB}),Object(s.jsx)(C,{isDone:a})]}),Object(s.jsx)("div",{className:"search-bar",children:Object(s.jsx)(g,{searchSubmitCB:this.handleSearchSubmitCB})}),Object(s.jsx)("div",{className:"results",children:Object(s.jsx)(N,{searchResults:n,searchTitle:t,currNominees:r,searchError:i,resultSubmitCB:this.handleResultSubmitCB})})]})}}]),n}(r.Component),O=n.p+"static/media/shoppies-logo.728dec56.png",f=function(){return Object(s.jsxs)("div",{children:[Object(s.jsx)("img",{src:O,alt:"shoppieslogo"}),Object(s.jsx)("h5",{children:"movie awards for entrepreneurs"})]})},S=function(e){Object(p.a)(n,e);var t=Object(j.a)(n);function n(e){var s;return Object(d.a)(this,n),(s=t.call(this,e)).state={nominees:s.props.currNominees},s.handleDeleteNominee=s.handleDeleteNominee.bind(Object(b.a)(s)),s}return Object(m.a)(n,[{key:"handleDeleteNominee",value:function(e){e.preventDefault(),this.props.deleteNomineeCB(e.target.value)}},{key:"componentDidUpdate",value:function(e){this.props.currNominees.length!==e.currNominees.length&&this.setState({nominees:this.props.currNominees})}},{key:"render",value:function(){var e=this,t=this.state.nominees;if(Array.isArray(t)&&t.length>0){var n=t.map((function(t){return Object(s.jsxs)("div",{className:"movie",children:[Object(s.jsx)("img",{id:"poster",src:t.Poster,alt:t.imdbID}),Object(s.jsxs)("span",{className:"movie",children:[t.Title," (",t.Year,")"]}),Object(s.jsx)("button",{id:"poster",type:"remove",value:t.imdbID,onClick:e.handleDeleteNominee,children:"x"})]},t.imdbID)}));return Object(s.jsx)("div",{className:"nominee-list",children:n})}return Object(s.jsx)("div",{className:"nominee-list"})}}]),n}(r.Component),x=n(21),g=function(e){Object(p.a)(n,e);var t=Object(j.a)(n);function n(e){var s;return Object(d.a)(this,n),(s=t.call(this,e)).state={title:""},s.handleChange=s.handleChange.bind(Object(b.a)(s)),s.handleSearchSubmit=s.handleSearchSubmit.bind(Object(b.a)(s)),s}return Object(m.a)(n,[{key:"handleChange",value:function(e){this.setState(Object(x.a)({},e.target.name,e.target.value))}},{key:"handleSearchSubmit",value:function(e){this.props.searchSubmitCB(this.state.title),e.preventDefault(),this.setState({title:""})}},{key:"render",value:function(){return Object(s.jsx)("div",{children:Object(s.jsxs)("form",{className:"search-bar",onSubmit:this.handleSearchSubmit,children:[Object(s.jsx)("input",{className:"search-bar",name:"title",type:"text",value:this.state.title,placeholder:"e.g. pirates",onChange:this.handleChange}),Object(s.jsx)("button",{className:"search-bar",type:"submit",onSubmit:this.handleSearchSubmit,children:Object(s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})})}}]),n}(r.Component),N=function(e){Object(p.a)(n,e);var t=Object(j.a)(n);function n(e){var s;return Object(d.a)(this,n),(s=t.call(this,e)).state={title:s.props.searchTitle,results:s.props.searchResults,nominees:s.props.currNominees,error:s.props.searchError},s.handleResultSubmit=s.handleResultSubmit.bind(Object(b.a)(s)),s}return Object(m.a)(n,[{key:"handleResultSubmit",value:function(e,t){t.preventDefault(),this.props.resultSubmitCB(e)}},{key:"componentDidUpdate",value:function(e){this.props.searchResults!==e.searchResults&&this.setState({results:this.props.searchResults,title:this.props.searchTitle}),this.props.currNominees.length!==e.currNominees.length&&this.setState({nominees:this.props.currNominees}),this.props.searchError!==e.searchError&&this.setState({error:this.props.searchError})}},{key:"render",value:function(){var e=this,t=this.state,n=t.title,r=t.nominees,i=this.state.results,a=this.state.error;if(Array.isArray(i)){var c=i.map((function(t){return Object(s.jsxs)("p",{children:[t.Title," (",t.Year,")---",Object(s.jsx)("button",{value:t.Title,disabled:w(t.imdbID,r),onClick:e.handleResultSubmit.bind(e,t),children:"nominate"})]},t.imdbID)}));return Object(s.jsxs)("div",{children:[Object(s.jsxs)("h4",{children:['showing results for "',n,'"']}),Object(s.jsx)("div",{id:"results-list",children:c})]})}return 0!==a.length?Object(s.jsx)("h4",{children:a}):Object(s.jsx)("h4",{children:"enter title in search"})}}]),n}(r.Component);var C=function(e){return!0===e.isDone?Object(s.jsx)("h4",{id:"done",children:"\u2606\u2606\u2606 You're done! Thanks for participating. \u2606\u2606\u2606"}):Object(s.jsx)("h4",{children:"select up to five nominees"})},y=n(22),k=n.n(y),D=n(48).APIToken,B=function(){var e=Object(u.a)(h.a.mark((function e(t){var n,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.get("https://www.omdbapi.com/?apikey=".concat(D,"&s=").concat(t,"&type=movie"));case 3:return n=e.sent,s=n.data,e.abrupt("return",s);case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),w=function(e,t){for(var n=0;n<t.length;n++)if(e===t[n].imdbID)return!0;return!1};var I=function(){return Object(s.jsx)("div",{className:"App",children:Object(s.jsxs)("div",{className:"App-body",children:[Object(s.jsx)("header",{className:"App-header",children:Object(s.jsx)(f,{})}),Object(s.jsx)("section",{className:"App-section",children:Object(s.jsx)(v,{})}),Object(s.jsx)("footer",{children:Object(s.jsx)("a",{className:"App-link",href:"https://github.com/magilo/the-shoppies",target:"_blank",rel:"noopener noreferrer",children:"github"})})]})})},R=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,50)).then((function(t){var n=t.getCLS,s=t.getFID,r=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),s(e),r(e),i(e),a(e)}))};c.a.render(Object(s.jsx)(i.a.StrictMode,{children:Object(s.jsx)(I,{})}),document.getElementById("root")),R()}},[[49,1,2]]]);
//# sourceMappingURL=main.c3f24d13.chunk.js.map